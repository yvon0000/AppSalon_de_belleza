{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","hora","fecha","servicios","IniciandoApp","MostrarServicios","mostrarCita","mostrarSeccion","CambiarSeccion","paginaSiguente","paginaAnterior","botonesPaginadores","nombreCita","HoraCita","fechaCita","desablitarFecha","seccionAnterior","document","querySelector","classList","remove","add","tabActuar","querySelectorAll","forEach","enlace","addEventListener","e","preventDefault","parseInt","target","dataset","paso","async","url","resutado","fetch","db","json","servicio","id","precio","nombreServicio","createElement","textContent","precioServicio","ServicioDiv","idServicio","onclick","selecionarSelvicios","appendChild","error","console","log","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","serviciosObj","filter","Siguente","Anterior","firstChild","removeChild","Object","values","includes","noServicio","HedingCita","mostrarResumen","innerHTML","mostrafecha","mostrarHora","servicioCita","HedingServicio","cantidad","contenidoServicio","textServico","textPrecio","totalServicio","split","trim","totalPagar","value","length","mostraAlerta","alerta","mensaje","tipo","setTimeout","horaCita","dia","Date","getUTCDay","fechaInput","fechatActual","fechaDesabilitar","getFullYear","getMonth","getDate","min","inputHora","validarHora"],"mappings":"AACA,IAAAA,OAAA,EACA,MAAAC,KAAA,CACAC,OAAA,GACAC,KAAA,GACAC,MAAA,GACAC,UAAA,IAMA,SAAAC,eACAC,mBAGAC,cAEAC,iBAGAC,iBAGAC,iBAGAC,iBAEAC,qBAEAC,aAEAC,WACAC,YAEAC,kBAEA,SAAAR,iBAEA,MAAAS,EAAAC,SAAAC,cAAA,oBACAF,GACAA,EAAAG,UAAAC,OAAA,mBAEAH,SAAAC,cAAA,SAAApB,QACAqB,UAAAE,IAAA,mBAEA,MAAAC,EAAAL,SAAAC,cAAA,iBACAI,GACAA,EAAAH,UAAAC,OAAA,UAKAH,SAAAC,cAAA,eAAApB,YACAqB,UAAAE,IAAA,UAGA,SAAAb,iBACAS,SAAAM,iBAAA,gBACAC,QAAAC,IACAA,EAAAC,iBAAA,QAAAC,IACAA,EAAAC,iBACA9B,OAAA+B,SAAAF,EAAAG,OAAAC,QAAAC,MAeAzB,iBACAI,yBAUAsB,eAAA5B,mBACA,IAEA,MAAA6B,EAAA,yEACAC,QAAAC,MAAAF,GACAG,QAAAF,EAAAG,QAEAnC,UAAAA,GAAAkC,EAEAA,EAAAb,QAAAe,IACA,MAAAC,GAAAA,EAAAxC,OAAAA,EAAAyC,OAAAA,GAAAF,EAGAG,EAAAzB,SAAA0B,cAAA,KACAD,EAAAE,YAAA5C,EACA0C,EAAAvB,UAAAE,IAAA,mBAGA,MAAAwB,EAAA5B,SAAA0B,cAAA,KACAE,EAAAD,YAAA,KAAAH,EACAI,EAAA1B,UAAAE,IAAA,mBAEA,MAAAyB,EAAA7B,SAAA0B,cAAA,OACAG,EAAA3B,UAAAE,IAAA,YACAyB,EAAAf,QAAAgB,WAAAP,EAGAM,EAAAE,QAAAC,oBAKAH,EAAAI,YAAAR,GACAI,EAAAI,YAAAL,GAGA5B,SAAAC,cAAA,cAAAgC,YAAAJ,KASA,MAAAK,GAEAC,QAAAC,IAAAF,IAIA,SAAAF,oBAAAtB,GACA,IAAA2B,EAQA,GALAA,EADA,MAAA3B,EAAAG,OAAAyB,QACA5B,EAAAG,OAAA0B,cAEA7B,EAAAG,OAGAwB,EAAAnC,UAAAsC,SAAA,gBAAA,CACAH,EAAAnC,UAAAC,OAAA,gBAEAsC,iBADA7B,SAAAyB,EAAAvB,QAAAgB,iBAEA,CACAO,EAAAnC,UAAAE,IAAA,gBAQAsC,gBANA,CACAnB,GAAAX,SAAAyB,EAAAvB,QAAAgB,YACA/C,OAAAsD,EAAAM,kBAAAhB,YACAH,OAAAa,EAAAM,kBAAAC,mBAAAjB,eAOA,SAAAe,gBAAAG,GACA,MAAA3D,UAAAA,GAAAJ,KACAA,KAAAI,UAAA,IAAAA,EAAA2D,GACAV,QAAAC,IAAAtD,MAIA,SAAA2D,iBAAAlB,GACA,MAAArC,UAAAA,GAAAJ,KACAA,KAAAI,UAAAA,EAAA4D,OAAAxB,GAAAA,EAAAC,KAAAA,GAIA,SAAA/B,iBACAQ,SAAAC,cAAA,cACAQ,iBAAA,QAAA,KACA5B,SAGAa,uBAGA,SAAAD,iBACAO,SAAAC,cAAA,aACAQ,iBAAA,QAAA,KAEA5B,SAEAa,uBAIA,SAAAA,qBACA,MAAAqD,EAAA/C,SAAAC,cAAA,cACA+C,EAAAhD,SAAAC,cAAA,aACA,IAAApB,QACAmE,EAAA9C,UAAAE,IAAA,WACAf,eAEA,IAAAR,QACAkE,EAAA7C,UAAAE,IAAA,WACA4C,EAAA9C,UAAAC,OAAA,WACAd,gBAEA2D,EAAA9C,UAAAC,OAAA,WACA4C,EAAA7C,UAAAC,OAAA,WACAd,eAGAC,iBAEA,SAAAD,cAEA,MAAAN,OAAAA,EAAAC,KAAAA,EAAAC,MAAAA,EAAAC,UAAAA,GAAAJ,KAEA+C,EAAA7B,SAAAC,cAAA,sBAEA,KAAA4B,EAAAoB,YACApB,EAAAqB,YAAArB,EAAAoB,YAEA,GAAAE,OAAAC,OAAAtE,MAAAuE,SAAA,IAAA,CACA,MAAAC,EAAAtD,SAAA0B,cAAA,KAIA,OAHA4B,EAAA3B,YAAA,4DACA2B,EAAApD,UAAAE,IAAA,gBACAyB,EAAAI,YAAAqB,GAGA,MAAAC,EAAAvD,SAAA0B,cAAA,MACA6B,EAAA5B,YAAA,kBAEA,MAAA6B,EAAAxD,SAAA0B,cAAA,KACA8B,EAAAC,UAAA,iBAAA1E,UAEA,MAAA2E,EAAA1D,SAAA0B,cAAA,KACAgC,EAAAD,UAAA,gBAAAxE,UAEA,MAAA0E,EAAA3D,SAAA0B,cAAA,KACAiC,EAAAF,UAAA,eAAAzE,UAGA,MAAA4E,EAAA5D,SAAA0B,cAAA,OACAkC,EAAA1D,UAAAE,IAAA,oBAEA,MAAAyD,EAAA7D,SAAA0B,cAAA,MACAmC,EAAAlC,YAAA,uBACAiC,EAAA3B,YAAA4B,GACA,IAAAC,EAAA,EAEA3B,QAAAC,IAAAtD,MACAI,EAAAqB,QAAAe,IACA,MAAAvC,OAAAA,EAAAyC,OAAAA,GAAAtC,EAEA6E,EAAA/D,SAAA0B,cAAA,OACAqC,EAAA7D,UAAAE,IAAA,sBAEA,MAAA4D,EAAAhE,SAAA0B,cAAA,KACAsC,EAAArC,YAAAL,EAAAvC,OAEA,MAAAkF,EAAAjE,SAAA0B,cAAA,KACAuC,EAAAtC,YAAAL,EAAAE,OAEAuC,EAAA9B,YAAA+B,GACAD,EAAA9B,YAAAgC,GACAF,EAAA7D,UAAAE,IAAA,UAGA,MAAA8D,EAAA5C,EAAAE,OAAA2C,MAAA,KAGAL,GAAAlD,SAAAsD,EAAA,GAAAE,QACAR,EAAA3B,YAAA8B,KAGAlC,EAAAI,YAAAsB,GACA1B,EAAAI,YAAAuB,GACA3B,EAAAI,YAAAyB,GACA7B,EAAAI,YAAA0B,GAEA9B,EAAAI,YAAA2B,GACA,MAAAS,EAAArE,SAAA0B,cAAA,KACA2C,EAAAZ,UAAA,0BAAAK,WACAjC,EAAAI,YAAAoC,GAGA,SAAA1E,aACAK,SAAAC,cAAA,WACAQ,iBAAA,QAAAC,IACA,MAAA3B,EAAA2B,EAAAG,OAAAyD,MAAAF,OAEA,GAAA,KAAArF,GAAAA,EAAAwF,OAAA,EACAC,aAAA,mBAAA,aAEA,CACA,MAAAC,EAAAzE,SAAAC,cAAA,WACAwE,GACAA,EAAAtE,SAEArB,KAAAC,OAAAA,EACAoD,QAAAC,IAAAtD,SAMA,SAAA0F,aAAAE,EAAAC,GAGA,GADA3E,SAAAC,cAAA,WAEA,OAEA,MAAAwE,EAAAzE,SAAA0B,cAAA,OACA+C,EAAA9C,YAAA+C,EACAD,EAAAvE,UAAAE,IAAA,UAEA,UAAAuE,GACAF,EAAAvE,UAAAE,IAAA,SAGAJ,SAAAC,cAAA,eACAgC,YAAAwC,GACAG,WAAA,KACAH,EAAAtE,UACA,KAEA,SAAAN,YAEA,MAAAgF,EAAA7E,SAAAC,cAAA,UACA4E,EAAApE,iBAAA,QAAAC,IACA,MAAAoE,EAAA,IAAAC,KAAArE,EAAAG,OAAAyD,OAAAU,YACA,CAAA,EAAA,GAAA3B,SAAAyB,IACApE,EAAAC,iBACAkE,EAAAP,MAAA,GAEAE,aAAA,iCAAA,UAEA1F,KAAAG,MAAA4F,EAAAP,QAKA,SAAAxE,kBAEA,MAAAmF,EAAAjF,SAAAC,cAAA,UACAiF,EAAA,IAAAH,KAMAI,EAAA,GAJAD,EAAAE,iBACAF,EAAAG,WAAA,KACAH,EAAAI,UAAA,IAGAL,EAAAM,IAAAJ,EAGA,SAAAvF,WACA,MAAA4F,EAAAxF,SAAAC,cAAA,SACAuF,EAAA/E,iBAAA,QAAAC,IACA,MAEA+E,EAFA/E,EAAAG,OAAAyD,MAEAH,MAAA,MACAsB,EAAA,GAAA,IAAAA,EAAA,GAAA,MACAjB,aAAA,iBAAA,SAEAI,WAAA,KACAY,EAAAlB,MAAA,IACA,MAGAxF,KAAAE,KAAAyG,IA5WAzF,SAAAS,iBAAA,oBAAA,WACAtB","file":"bundle.js","sourcesContent":["\r\nlet pagina=1;\r\nconst cita={\r\n    nombre:'',\r\n    hora:'',\r\n    fecha:'',\r\n    servicios:[]\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded',function(){\r\n    IniciandoApp();\r\n})\r\nfunction IniciandoApp(){\r\nMostrarServicios();\r\n//\r\n//mostrar mensanje error en caso que el usuar no ha selecionado ninguna informacion\r\nmostrarCita();\r\n//resaltar el div actual segun el tab que presione\r\nmostrarSeccion();\r\n\r\n//oculta o muestra una session  segun el table que se presione\r\nCambiarSeccion();\r\n\r\n//pagina siguiente\r\npaginaSiguente();\r\n\r\n//pagina anterio\r\npaginaAnterior();\r\n//oculta o mosttra la pagina\r\nbotonesPaginadores();\r\n//validar campo nombre\r\nnombreCita();\r\n//validar fecha\r\nHoraCita();\r\nfechaCita();\r\n//Dessabilita fecha anterior\r\ndesablitarFecha();\r\n}\r\nfunction mostrarSeccion(){\r\n\r\n    const seccionAnterior=    document.querySelector('.mostrar-seccion');\r\n    if (seccionAnterior){\r\n    seccionAnterior.classList.remove('mostrar-seccion');\r\n}  \r\n const seccionActual=   document.querySelector(`#paso-${pagina}`)\r\n seccionActual.classList.add(\"mostrar-seccion\")\r\n\r\n const tabActuar= document.querySelector(\".tabs .actual\");\r\n if(tabActuar){\r\n    tabActuar.classList.remove(\"actual\");\r\n\r\n }\r\n\r\n\r\n const tab=document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n tab.classList.add(\"actual\")\r\n}\r\n\r\nfunction CambiarSeccion(){\r\n    const enlaces=document.querySelectorAll('.tabs button');\r\n    enlaces.forEach( enlace => {\r\n        enlace.addEventListener('click', e =>{\r\n            e.preventDefault();\r\n            pagina=parseInt(e.target.dataset.paso);\r\n           // console.log(pagina)\r\n            //eliminar seccion acutuar segun el tabl que presione\r\n           //// document.querySelector('.mostrar-s que selecionareccion').classList.remove('mostrar-seccion');\r\n//agregar mostrar-seccion al seccion\r\n\r\n           // const mostrarSeccion=document.querySelector(`#paso-${pagina}`)\r\n            //mostrarSeccion.classList.add('mostrar-seccion')\r\n\r\n            //eliminar el tab acutar segun el tab que presione\r\n           //document.querySelector(\".tabs .actual\").classList.remove(\"actual\");\r\n\r\n//agregar la clase actual en tab segun lo selecionar\r\n//const tab=document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n //tab.classList.add(\"actual\")\r\nmostrarSeccion();\r\nbotonesPaginadores();\r\n\r\n\r\n        })\r\n\r\n    })\r\n\r\n}\r\n\r\n\r\nasync function MostrarServicios(){\r\n    try{\r\n/*utilizamos async await  */\r\nconst url=\"http://localhost/xampp/cursos/JavaScript/AppSalon_inicio/servicios.php\";\r\nconst resutado= await fetch(url);\r\nconst db= await resutado.json();\r\n//distroctruing\r\nconst { servicios }=db;\r\n//agregar html\r\ndb.forEach(servicio => {\r\n    const { id, nombre,precio }=servicio;\r\n    //Dom Sripting\r\n    //generar nombre servicio\r\n    const nombreServicio= document.createElement(\"P\");\r\n    nombreServicio.textContent=nombre;\r\n    nombreServicio.classList.add(\"nombre-servicio\")\r\n    //generar precio servicio\r\n\r\n    const precioServicio=document.createElement(\"P\");\r\n     precioServicio.textContent=`$ ${precio}`;\r\n    precioServicio.classList.add(\"precio-servicio\")\r\n    //generad el div\r\n     const ServicioDiv=document.createElement(\"div\");\r\n     ServicioDiv.classList.add(\"servicio\")\r\n     ServicioDiv.dataset.idServicio=id\r\n\r\n     //seleccionado servicios\r\n     ServicioDiv.onclick= selecionarSelvicios;\r\n     \r\n\r\n\r\n     //agregar servicios al div\r\n     ServicioDiv.appendChild(nombreServicio)\r\n     ServicioDiv.appendChild(precioServicio)\r\n     //console.log(ServicioDiv)\r\n     //Agregar en html\r\n     document.querySelector(\"#servicios\").appendChild(ServicioDiv)\r\n    \r\n    \r\n    //console.log(precioServicio)\r\n\r\n\r\n});\r\n\r\n\r\n}catch(error){\r\n\r\nconsole.log(error);\r\n}\r\n    \r\n};\r\nfunction selecionarSelvicios(e){\r\nlet elemento;\r\n//forzar que elemento que damos click sea el div\r\nif(e.target.tagName === \"P\"){\r\n    elemento=e.target.parentElement;\r\n}else{\r\n    elemento=e.target;\r\n}\r\n\r\nif(elemento.classList.contains(\"seleccionado\")){\r\n    elemento.classList.remove(\"seleccionado\");\r\n    const id=parseInt(elemento.dataset.idServicio)\r\n    eliminarServicio(id);\r\n}else{\r\n    elemento.classList.add(\"seleccionado\")\r\n    //console.log(elemento.firstElementChild.nextSibling.textContent)\r\n    const serviciosObj={\r\nid:parseInt(elemento.dataset.idServicio),\r\nnombre:elemento.firstElementChild.textContent,\r\nprecio:elemento.firstElementChild.nextElementSibling.textContent\r\n}\r\n   // console.log(serviciosObj)\r\nagregarServicio(serviciosObj);\r\n\r\n}\r\n}\r\nfunction agregarServicio(serviciosObj){\r\n    const { servicios } =cita;\r\n    cita.servicios= [...servicios, serviciosObj]\r\n    console.log(cita)\r\n    \r\n\r\n}\r\nfunction eliminarServicio(id){\r\n    const {servicios}=cita;\r\n    cita.servicios=servicios.filter(servicio => servicio.id !==id)\r\n    //console.log(cita)\r\n\r\n}\r\nfunction paginaSiguente(){\r\nconst Siguente=document.querySelector('#siguiente')\r\nSiguente.addEventListener('click', ()=>{\r\npagina++;\r\n//console.log(pagina)\r\n\r\nbotonesPaginadores();\r\n})\r\n}\r\nfunction paginaAnterior(){\r\n    const Anterior=document.querySelector('#anterior')\r\n    Anterior.addEventListener('click', ()=>{\r\n    \r\n    pagina--;\r\n    //console.log(pagina)\r\n    botonesPaginadores();\r\n\r\n    })\r\n}\r\nfunction botonesPaginadores(){\r\n    const Siguente=document.querySelector('#siguiente')    \r\n    const Anterior=document.querySelector('#anterior')\r\n    if(pagina===1){\r\n        Anterior.classList.add(\"ocultar\")\r\n        mostrarCita();\r\n\r\n    }else if(pagina===3){\r\n        Siguente.classList.add(\"ocultar\")\r\n        Anterior.classList.remove(\"ocultar\")\r\n        mostrarCita();\r\n    } else {\r\n        Anterior.classList.remove(\"ocultar\")\r\n        Siguente.classList.remove(\"ocultar\")\r\n        mostrarCita();\r\n\r\n    }\r\n    mostrarSeccion();\r\n}\r\nfunction mostrarCita(){\r\n    //distructring\r\n    const {nombre,hora,fecha,servicios}=cita;\r\n\r\n    const ServicioDiv=document.querySelector('.contenido-resumen')\r\n //ServicioDiv.innerHTML= '';\r\n    while(ServicioDiv.firstChild){\r\nServicioDiv.removeChild(ServicioDiv.firstChild)\r\n   }\r\n    if(Object.values(cita).includes('')){\r\n        const noServicio=document.createElement('p')\r\n        noServicio.textContent= \"ERROR AL LLENAR CAMPO NOMBRE, FECHA,SERVICIO debes llenar\";\r\n        noServicio.classList.add(\"resumen\")\r\n        ServicioDiv.appendChild(noServicio)\r\n    return;\r\n    } \r\n    const HedingCita= document.createElement('H3')\r\n    HedingCita.textContent=('RESUMEN DE cita')\r\n\r\nconst mostrarResumen=document.createElement('p')\r\nmostrarResumen.innerHTML=`<span>Nombre :${nombre}</span`;\r\n\r\nconst mostrafecha=document.createElement('p')\r\nmostrafecha.innerHTML=`<span>Fecha :${fecha}</span`;\r\n\r\nconst mostrarHora=document.createElement('p')\r\nmostrarHora.innerHTML=`<span>Hora :${hora}</span`;\r\n\r\n//insertar los servicios\r\nconst servicioCita=document.createElement('DIV')\r\nservicioCita.classList.add('resumen-servicio')\r\n\r\n    const HedingServicio= document.createElement('H3')\r\n    HedingServicio.textContent=('RESUMEN DE SERVICIOS')\r\n    servicioCita.appendChild(HedingServicio)\r\n    let cantidad=0;\r\n\r\n    console.log(cita)\r\n    servicios.forEach( servicio =>{\r\n        const {nombre,precio}=servicios;\r\n\r\nconst contenidoServicio=document.createElement('DIV')\r\ncontenidoServicio.classList.add('contenido-servicio')\r\n\r\nconst textServico=document.createElement('P')\r\ntextServico.textContent=servicio.nombre\r\n\r\nconst textPrecio=document.createElement('P')\r\ntextPrecio.textContent=servicio.precio\r\n\r\ncontenidoServicio.appendChild(textServico)\r\ncontenidoServicio.appendChild(textPrecio)\r\ncontenidoServicio.classList.add('precio')\r\n\r\n//imprimir el precio\r\nconst totalServicio=servicio.precio.split('$');\r\n\r\n\r\ncantidad += parseInt(totalServicio[1].trim());\r\nservicioCita.appendChild(contenidoServicio)\r\n\r\n    });\r\n    ServicioDiv.appendChild(HedingCita)\r\nServicioDiv.appendChild(mostrarResumen)\r\nServicioDiv.appendChild(mostrafecha)\r\nServicioDiv.appendChild(mostrarHora)\r\n\r\nServicioDiv.appendChild(servicioCita)\r\nconst totalPagar=document.createElement('p')\r\ntotalPagar.innerHTML=`<span>Total a pagar : $${cantidad}</span>`\r\nServicioDiv.appendChild(totalPagar)\r\n\r\n}\r\nfunction nombreCita(){\r\n    const nombreTexto=document.querySelector(\"#nombre\")\r\n    nombreTexto.addEventListener('input', e=>{\r\n        const nombre=e.target.value.trim()\r\n        //console.log(nombre)\r\n        if(nombre ==='' ||nombre.length<3){\r\n            mostraAlerta(\"nombre no valido\",'error')\r\n            \r\n        }else{\r\n            const alerta=document.querySelector('.alerta')\r\n            if(alerta){\r\n             alerta.remove();\r\n            }\r\n            cita.nombre=nombre;\r\n            console.log(cita)\r\n        }\r\n\r\n    })\r\n}\r\n\r\nfunction mostraAlerta(mensaje,tipo){\r\n    //validar para que salir mas que 1 alerta\r\n    const eliminarAlerta=document.querySelector('.alerta')\r\n    if(eliminarAlerta){\r\n      return\r\n    }\r\nconst alerta=document.createElement(\"DIV\")\r\nalerta.textContent=mensaje\r\nalerta.classList.add('alerta')\r\n\r\nif(tipo === 'error'){\r\nalerta.classList.add('error')\r\n}\r\n//agregar el error en html\r\nconst mostraAlerta=document.querySelector('.formulario')\r\nmostraAlerta.appendChild(alerta)\r\nsetTimeout(() => {\r\n    alerta.remove();\r\n}, 3000);\r\n}\r\nfunction fechaCita(){\r\n\r\n    const horaCita=document.querySelector('#fecha')\r\nhoraCita.addEventListener('input',e=>{\r\n    const dia= new Date(e.target.value).getUTCDay();\r\n    if([0,6].includes(dia)){\r\n        e.preventDefault();\r\n        horaCita.value='';\r\n        \r\nmostraAlerta(\"Fines de semana no son validos\",'error');\r\n    }else{\r\n        cita.fecha=horaCita.value;\r\n    }\r\n\r\n})\r\n}\r\nfunction desablitarFecha(){\r\n    \r\n    const fechaInput =document.querySelector('#fecha')\r\n    const fechatActual= new Date();\r\n    //validamos la forma que la hora sea  AAAA-MM-DD\r\n    const year=fechatActual.getFullYear();\r\n    const mes=fechatActual.getMonth()+1;\r\n    const dia=fechatActual.getDate()+1;\r\n\r\n    const fechaDesabilitar=`${year}-${mes}-${dia}`;\r\n    fechaInput.min =fechaDesabilitar;\r\n    \r\n}\r\nfunction HoraCita(){\r\n    const inputHora=document.querySelector('#hora')\r\n    inputHora.addEventListener('input',e=>{\r\n        const hora=e.target.value;\r\n\r\n        const validarHora=hora.split(':');\r\n        if (validarHora[0] <10 ||validarHora[0] > 20){\r\nmostraAlerta(\"Hora no valido\",'error')\r\n\r\nsetTimeout(()=>{\r\ninputHora.value='';\r\n},3000);\r\n}\r\n        \r\ncita.hora=validarHora;\r\n    })\r\n}"]}